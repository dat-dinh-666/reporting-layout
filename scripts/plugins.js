!function(a){function d(){a(b).each(function(){e(a(this)).removeClass("open")})}function e(b){var c=b.attr("data-target"),d;return c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,"")),d=a(c),d.length||(d=b.parent()),d}"use strict";var b="[data-toggle=dropdown]",c=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};c.prototype={constructor:c,toggle:function(b){var c=a(this),f,g;if(c.is(".disabled, :disabled"))return;return f=e(c),g=f.hasClass("open"),d(),g||f.toggleClass("open"),c.focus(),!1},keydown:function(b){var c,d,f,g,h,i;if(!/(38|40|27)/.test(b.keyCode))return;c=a(this),b.preventDefault(),b.stopPropagation();if(c.is(".disabled, :disabled"))return;g=e(c),h=g.hasClass("open");if(!h||h&&b.keyCode==27)return c.click();d=a("[role=menu] li:not(.divider):visible a",g);if(!d.length)return;i=d.index(d.filter(":focus")),b.keyCode==38&&i>0&&i--,b.keyCode==40&&i<d.length-1&&i++,~i||(i=0),d.eq(i).focus()}};var f=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var d=a(this),e=d.data("dropdown");e||d.data("dropdown",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.dropdown.Constructor=c,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=f,this},a(document).on("click.dropdown.data-api touchstart.dropdown.data-api",d).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("touchstart.dropdown.data-api",".dropdown-menu",function(a){a.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",b,c.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",b+", [role=menu]",c.prototype.keydown)}(window.jQuery),function(a,b,c,d){"use strict";var e=c(a),f=c(b),g=c.fancybox=function(){g.open.apply(this,arguments)},h=null,i=b.createTouch!==d,j=function(a){return a&&a.hasOwnProperty&&a instanceof c},k=function(a){return a&&c.type(a)==="string"},l=function(a){return k(a)&&a.indexOf("%")>0},m=function(a){return a&&(!a.style.overflow||a.style.overflow!=="hidden")&&(a.clientWidth&&a.scrollWidth>a.clientWidth||a.clientHeight&&a.scrollHeight>a.clientHeight)},n=function(a,b){var c=parseInt(a,10)||0;return b&&l(a)&&(c=g.getViewport()[b]/100*c),Math.ceil(c)},o=function(a,b){return n(a,b)+"px"};c.extend(g,{version:"2.1.3",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:280,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!i,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!1,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(c.browser.msie?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"none",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:200,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:200,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:200,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:c.noop,beforeLoad:c.noop,afterLoad:c.noop,beforeShow:c.noop,afterShow:c.noop,beforeChange:c.noop,beforeClose:c.noop,afterClose:c.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,b){if(!a)return;c.isPlainObject(b)||(b={});if(!1===g.close(!0))return;return c.isArray(a)||(a=j(a)?c(a).get():[a]),c.each(a,function(e,f){var h={},i,l,m,n,o,p,q;c.type(f)==="object"&&(f.nodeType&&(f=c(f)),j(f)?(h={href:f.data("fancybox-href")||f.attr("href"),title:f.data("fancybox-title")||f.attr("title"),isDom:!0,element:f},c.metadata&&c.extend(!0,h,f.metadata())):h=f),i=b.href||h.href||(k(f)?f:null),l=b.title!==d?b.title:h.title||"",m=b.content||h.content,n=m?"html":b.type||h.type,!n&&h.isDom&&(n=f.data("fancybox-type"),n||(o=f.prop("class").match(/fancybox\.(\w+)/),n=o?o[1]:null)),k(i)&&(n||(g.isImage(i)?n="image":g.isSWF(i)?n="swf":i.charAt(0)==="#"?n="inline":k(f)&&(n="html",m=f)),n==="ajax"&&(p=i.split(/\s+/,2),i=p.shift(),q=p.shift())),m||(n==="inline"?i?m=c(k(i)?i.replace(/.*(?=#[^\s]+$)/,""):i):h.isDom&&(m=f):n==="html"?m=i:!n&&!i&&h.isDom&&(n="inline",m=f)),c.extend(h,{href:i,type:n,content:m,title:l,selector:q}),a[e]=h}),g.opts=c.extend(!0,{},g.defaults,b),b.keys!==d&&(g.opts.keys=b.keys?c.extend({},g.defaults.keys,b.keys):!1),g.group=a,g._start(g.opts.index)},cancel:function(){var a=g.coming;if(!a||!1===g.trigger("onCancel"))return;g.hideLoading(),g.ajaxLoad&&g.ajaxLoad.abort(),g.ajaxLoad=null,g.imgPreload&&(g.imgPreload.onload=g.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),g.coming=null,g.current||g._afterZoomOut(a)},close:function(a){g.cancel();if(!1===g.trigger("beforeClose"))return;g.unbindEvents();if(!g.isActive)return;!g.isOpen||a===!0?(c(".fancybox-wrap").stop(!0).trigger("onReset").remove(),g._afterZoomOut()):(g.isOpen=g.isOpened=!1,g.isClosing=!0,c(".fancybox-item, .fancybox-nav").remove(),g.wrap.stop(!0,!0).removeClass("fancybox-opened"),g.transitions[g.current.closeMethod]())},play:function(a){var b=function(){clearTimeout(g.player.timer)},d=function(){b(),g.current&&g.player.isActive&&(g.player.timer=setTimeout(g.next,g.current.playSpeed))},e=function(){b(),c("body").unbind(".player"),g.player.isActive=!1,g.trigger("onPlayEnd")},f=function(){g.current&&(g.current.loop||g.current.index<g.group.length-1)&&(g.player.isActive=!0,c("body").bind({"afterShow.player onUpdate.player":d,"onCancel.player beforeClose.player":e,"beforeLoad.player":b}),d(),g.trigger("onPlayStart"))};a===!0||!g.player.isActive&&a!==!1?f():e()},next:function(a){var b=g.current;b&&(k(a)||(a=b.direction.next),g.jumpto(b.index+1,a,"next"))},prev:function(a){var b=g.current;b&&(k(a)||(a=b.direction.prev),g.jumpto(b.index-1,a,"prev"))},jumpto:function(a,b,c){var e=g.current;if(!e)return;a=n(a),g.direction=b||e.direction[a>=e.index?"next":"prev"],g.router=c||"jumpto",e.loop&&(a<0&&(a=e.group.length+a%e.group.length),a%=e.group.length),e.group[a]!==d&&(g.cancel(),g._start(a))},reposition:function(a,b){var d=g.current,e=d?d.wrap:null,f;e&&(f=g._getPosition(b),a&&a.type==="scroll"?(delete f.position,e.stop(!0,!0).animate(f,200)):(e.css(f),d.pos=c.extend({},d.dim,f)))},update:function(a){var b=a&&a.type,c=!b||b==="orientationchange";c&&(clearTimeout(h),h=null);if(!g.isOpen||h)return;h=setTimeout(function(){var d=g.current;if(!d||g.isClosing)return;g.wrap.removeClass("fancybox-tmp"),(c||b==="load"||b==="resize"&&d.autoResize)&&g._setDimension(),(b!=="scroll"||!d.canShrink)&&g.reposition(a),g.trigger("onUpdate"),h=null},c&&!i?0:300)},toggle:function(a){g.isOpen&&(g.current.fitToView=c.type(a)==="boolean"?a:!g.current.fitToView,i&&(g.wrap.removeAttr("style").addClass("fancybox-tmp"),g.trigger("onUpdate")),g.update())},hideLoading:function(){f.unbind(".loading"),c("#fancybox-loading").remove()},showLoading:function(){var a,b;g.hideLoading(),a=c('<div id="fancybox-loading"><div></div></div>').click(g.cancel).appendTo("body"),f.bind("keydown.loading",function(a){(a.which||a.keyCode)===27&&(a.preventDefault(),g.cancel())}),g.defaults.fixed||(b=g.getViewport(),a.css({position:"absolute",top:b.h*.5+b.y,left:b.w*.5+b.x}))},getViewport:function(){var b=g.current&&g.current.locked||!1,c={x:e.scrollLeft(),y:e.scrollTop()};return b?(c.w=b[0].clientWidth,c.h=b[0].clientHeight):(c.w=i&&a.innerWidth?a.innerWidth:e.width(),c.h=i&&a.innerHeight?a.innerHeight:e.height()),c},unbindEvents:function(){g.wrap&&j(g.wrap)&&g.wrap.unbind(".fb"),f.unbind(".fb"),e.unbind(".fb")},bindEvents:function(){var a=g.current,b;if(!a)return;e.bind("orientationchange.fb"+(i?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),g.update),b=a.keys,b&&f.bind("keydown.fb",function(e){var f=e.which||e.keyCode,h=e.target||e.srcElement;if(f===27&&g.coming)return!1;!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&(!h||!h.type&&!c(h).is("[contenteditable]"))&&c.each(b,function(b,h){if(a.group.length>1&&h[f]!==d)return g[b](h[f]),e.preventDefault(),!1;if(c.inArray(f,h)>-1)return g[b](),e.preventDefault(),!1})}),c.fn.mousewheel&&a.mouseWheel&&g.wrap.bind("mousewheel.fb",function(b,d,e,f){var h=b.target||null,i=c(h),j=!1;while(i.length){if(j||i.is(".fancybox-skin")||i.is(".fancybox-wrap"))break;j=m(i[0]),i=c(i).parent()}d!==0&&!j&&g.group.length>1&&!a.canShrink&&(f>0||e>0?g.prev(f>0?"down":"left"):(f<0||e<0)&&g.next(f<0?"up":"right"),b.preventDefault())})},trigger:function(a,b){var d,e=b||g.coming||g.current;if(!e)return;c.isFunction(e[a])&&(d=e[a].apply(e,Array.prototype.slice.call(arguments,1)));if(d===!1)return!1;e.helpers&&c.each(e.helpers,function(b,d){d&&g.helpers[b]&&c.isFunction(g.helpers[b][a])&&(d=c.extend(!0,{},g.helpers[b].defaults,d),g.helpers[b][a](d,e))}),c.event.trigger(a+".fb")},isImage:function(a){return k(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(a){return k(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var b={},d,e,f,h,j;a=n(a),d=g.group[a]||null;if(!d)return!1;b=c.extend(!0,{},g.opts,d),h=b.margin,j=b.padding,c.type(h)==="number"&&(b.margin=[h,h,h,h]),c.type(j)==="number"&&(b.padding=[j,j,j,j]),b.modal&&c.extend(!0,b,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),b.autoSize&&(b.autoWidth=b.autoHeight=!0),b.width==="auto"&&(b.autoWidth=!0),b.height==="auto"&&(b.autoHeight=!0),b.group=g.group,b.index=a,g.coming=b;if(!1===g.trigger("beforeLoad")){g.coming=null;return}f=b.type,e=b.href;if(!f)return g.coming=null,g.current&&g.router&&g.router!=="jumpto"?(g.current.index=a,g[g.router](g.direction)):!1;g.isActive=!0;if(f==="image"||f==="swf")b.autoHeight=b.autoWidth=!1,b.scrolling="visible";f==="image"&&(b.aspectRatio=!0),f==="iframe"&&i&&(b.scrolling="scroll"),b.wrap=c(b.tpl.wrap).addClass("fancybox-"+(i?"mobile":"desktop")+" fancybox-type-"+f+" fancybox-tmp "+b.wrapCSS).appendTo(b.parent||"body"),c.extend(b,{skin:c(".fancybox-skin",b.wrap),outer:c(".fancybox-outer",b.wrap),inner:c(".fancybox-inner",b.wrap)}),c.each(["Top","Right","Bottom","Left"],function(a,c){b.skin.css("padding"+c,o(b.padding[a]))}),g.trigger("onReady");if(f==="inline"||f==="html"){if(!b.content||!b.content.length)return g._error("content")}else if(!e)return g._error("href");f==="image"?g._loadImage():f==="ajax"?g._loadAjax():f==="iframe"?g._loadIframe():g._afterLoad()},_error:function(a){c.extend(g.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:g.coming.tpl.error}),g._afterLoad()},_loadImage:function(){var a=g.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null,g.coming.width=this.width,g.coming.height=this.height,g._afterLoad()},a.onerror=function(){this.onload=this.onerror=null,g._error("image")},a.src=g.coming.href,a.complete!==!0&&g.showLoading()},_loadAjax:function(){var a=g.coming;g.showLoading(),g.ajaxLoad=c.ajax(c.extend({},a.ajax,{url:a.href,error:function(a,b){g.coming&&b!=="abort"?g._error("ajax",a):g.hideLoading()},success:function(b,c){c==="success"&&(a.content=b,g._afterLoad())}}))},_loadIframe:function(){var a=g.coming,b=c(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",i?"auto":a.iframe.scrolling).attr("src",a.href);c(a.wrap).bind("onReset",function(){try{c(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}}),a.iframe.preload&&(g.showLoading(),b.one("load",function(){c(this).data("ready",1),i||c(this).bind("load.fb",g.update),c(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),g._afterLoad()})),a.content=b.appendTo(a.inner),a.iframe.preload||g._afterLoad()},_preloadImages:function(){var a=g.group,b=g.current,c=a.length,d=b.preload?Math.min(b.preload,c-1):0,e,f;for(f=1;f<=d;f+=1)e=a[(b.index+f)%c],e.type==="image"&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var a=g.coming,b=g.current,d="fancybox-placeholder",e,f,h,i,k,l;g.hideLoading();if(!a||g.isActive===!1)return;if(!1===g.trigger("afterLoad",a,b)){a.wrap.stop(!0).trigger("onReset").remove(),g.coming=null;return}b&&(g.trigger("beforeChange",b),b.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),g.unbindEvents(),e=a,f=a.content,h=a.type,i=a.scrolling,c.extend(g,{wrap:e.wrap,skin:e.skin,outer:e.outer,inner:e.inner,current:e,previous:b}),k=e.href;switch(h){case"inline":case"ajax":case"html":e.selector?f=c("<div>").html(f).find(e.selector):j(f)&&(f.data(d)||f.data(d,c('<div class="'+d+'"></div>').insertAfter(f).hide()),f=f.show().detach(),e.wrap.bind("onReset",function(){c(this).find(f).length&&f.hide().replaceAll(f.data(d)).data(d,!1)}));break;case"image":f=e.tpl.image.replace("{href}",k);break;case"swf":f='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+k+'"></param>',l="",c.each(e.swf,function(a,b){f+='<param name="'+a+'" value="'+b+'"></param>',l+=" "+a+'="'+b+'"'}),f+='<embed src="'+k+'" type="application/x-shockwave-flash" width="100%" height="100%"'+l+"></embed></object>"}(!j(f)||!f.parent().is(e.inner))&&e.inner.append(f),g.trigger("beforeShow"),e.inner.css("overflow",i==="yes"?"scroll":i==="no"?"hidden":i),g._setDimension(),g.reposition(),g.isOpen=!1,g.coming=null,g.bindEvents(),g.isOpened?b.prevMethod&&g.transitions[b.prevMethod]():c(".fancybox-wrap").not(e.wrap).stop(!0).trigger("onReset").remove(),g.transitions[g.isOpened?e.nextMethod:e.openMethod](),g._preloadImages()},_setDimension:function(){var a=g.getViewport(),b=0,d=!1,e=!1,f=g.wrap,h=g.skin,i=g.inner,j=g.current,k=j.width,m=j.height,p=j.minWidth,q=j.minHeight,r=j.maxWidth,s=j.maxHeight,t=j.scrolling,u=j.scrollOutside?j.scrollbarWidth:0,v=j.margin,w=n(v[1]+v[3]),x=n(v[0]+v[2]),y,z,A,B,C,D,E,G,H,I,J,K,L,M,N;f.add(h).add(i).width("auto").height("auto").removeClass("fancybox-tmp"),y=n(h.outerWidth(!0)-h.width()),z=n(h.outerHeight(!0)-h.height()),A=w+y,B=x+z,C=l(k)?(a.w-A)*n(k)/100:k,D=l(m)?(a.h-B)*n(m)/100:m;if(j.type==="iframe"){M=j.content;if(j.autoHeight&&M.data("ready")===1)try{M[0].contentWindow.document.location&&(i.width(C).height(9999),N=M.contents().find("body"),u&&N.css("overflow-x","hidden"),D=N.height())}catch(O){}}else if(j.autoWidth||j.autoHeight)i.addClass("fancybox-tmp"),j.autoWidth||i.width(C),j.autoHeight||i.height(D),j.autoWidth&&(C=i.width()),j.autoHeight&&(D=i.height()),i.removeClass("fancybox-tmp");k=n(C),m=n(D),H=C/D,p=n(l(p)?n(p,"w")-A:p),r=n(l(r)?n(r,"w")-A:r),q=n(l(q)?n(q,"h")-B:q),s=n(l(s)?n(s,"h")-B:s),E=r,G=s,j.fitToView&&(r=Math.min(a.w-A,r),s=Math.min(a.h-B,s)),K=a.w-w,L=a.h-x,j.aspectRatio?(k>r&&(k=r,m=n(k/H)),m>s&&(m=s,k=n(m*H)),k<p&&(k=p,m=n(k/H)),m<q&&(m=q,k=n(m*H))):(k=Math.max(p,Math.min(k,r)),j.autoHeight&&j.type!=="iframe"&&(i.width(k),m=i.height()),m=Math.max(q,Math.min(m,s)));if(j.fitToView){i.width(k).height(m),f.width(k+y),I=f.width(),J=f.height();if(j.aspectRatio)while((I>K||J>L)&&k>p&&m>q){if(b++>19)break;m=Math.max(q,Math.min(s,m-10)),k=n(m*H),k<p&&(k=p,m=n(k/H)),k>r&&(k=r,m=n(k/H)),i.width(k).height(m),f.width(k+y),I=f.width(),J=f.height()}else k=Math.max(p,Math.min(k,k-(I-K))),m=Math.max(q,Math.min(m,m-(J-L)))}u&&t==="auto"&&m<D&&k+y+u<K&&(k+=u),i.width(k).height(m),f.width(k+y),I=f.width(),J=f.height(),d=(I>K||J>L)&&k>p&&m>q,e=j.aspectRatio?k<E&&m<G&&k<C&&m<D:(k<E||m<G)&&(k<C||m<D),c.extend(j,{dim:{width:o(I),height:o(J)},origWidth:C,origHeight:D,canShrink:d,canExpand:e,wPadding:y,hPadding:z,wrapSpace:J-h.outerHeight(!0),skinSpace:h.height()-m}),!M&&j.autoHeight&&m>q&&m<s&&!e&&i.height("auto")},_getPosition:function(a){var b=g.current,c=g.getViewport(),d=b.margin,e=g.wrap.width()+d[1]+d[3],f=g.wrap.height()+d[0]+d[2],h={position:"absolute",top:d[0],left:d[3]};return b.autoCenter&&b.fixed&&!a&&f<=c.h&&e<=c.w?h.position="fixed":b.locked||(h.top+=c.y,h.left+=c.x),h.top=o(Math.max(h.top,h.top+(c.h-f)*b.topRatio)),h.left=o(Math.max(h.left,h.left+(c.w-e)*b.leftRatio)),h},_afterZoomIn:function(){var a=g.current;if(!a)return;g.isOpen=g.isOpened=!0,g.wrap.css("overflow","visible").addClass("fancybox-opened"),g.update(),(a.closeClick||a.nextClick&&g.group.length>1)&&g.inner.css("cursor","pointer").bind("click.fb",function(b){!c(b.target).is("a")&&!c(b.target).parent().is("a")&&(b.preventDefault(),g[a.closeClick?"close":"next"]())}),a.closeBtn&&c(a.tpl.closeBtn).appendTo(g.skin).bind(i?"touchstart.fb":"click.fb",function(a){a.preventDefault(),g.close()}),a.arrows&&g.group.length>1&&((a.loop||a.index>0)&&c(a.tpl.prev).appendTo(g.outer).bind("click.fb",g.prev),(a.loop||a.index<g.group.length-1)&&c(a.tpl.next).appendTo(g.outer).bind("click.fb",g.next)),g.trigger("afterShow"),!a.loop&&a.index===a.group.length-1?g.play(!1):g.opts.autoPlay&&!g.player.isActive&&(g.opts.autoPlay=!1,g.play())},_afterZoomOut:function(a){a=a||g.current,c(".fancybox-wrap").trigger("onReset").remove(),c.extend(g,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),g.trigger("afterClose",a)}}),g.transitions={getOrigPosition:function(){var a=g.current,b=a.element,c=a.orig,d={},e=50,f=50,h=a.hPadding,i=a.wPadding,k=g.getViewport();!c&&a.isDom&&b.is(":visible")&&(c=b.find("img:first"),c.length||(c=b)),j(c)?(d=c.offset(),c.is("img")&&(e=c.outerWidth(),f=c.outerHeight())):(d.top=k.y+(k.h-f)*a.topRatio,d.left=k.x+(k.w-e)*a.leftRatio);if(g.wrap.css("position")==="fixed"||a.locked)d.top-=k.y,d.left-=k.x;return d={top:o(d.top-h*a.topRatio),left:o(d.left-i*a.leftRatio),width:o(e+i),height:o(f+h)},d},step:function(a,b){var c,d,e,f=b.prop,h=g.current,i=h.wrapSpace,j=h.skinSpace;if(f==="width"||f==="height")c=b.end===b.start?1:(a-b.start)/(b.end-b.start),g.isClosing&&(c=1-c),d=f==="width"?h.wPadding:h.hPadding,e=a-d,g.skin[f](n(f==="width"?e:e-i*c)),g.inner[f](n(f==="width"?e:e-i*c-j*c))},zoomIn:function(){var a=g.current,b=a.pos,d=a.openEffect,e=d==="elastic",f=c.extend({opacity:1},b);delete f.position,e?(b=this.getOrigPosition(),a.openOpacity&&(b.opacity=.1)):d==="fade"&&(b.opacity=.1),g.wrap.css(b).animate(f,{duration:d==="none"?0:a.openSpeed,easing:a.openEasing,step:e?this.step:null,complete:g._afterZoomIn})},zoomOut:function(){var a=g.current,b=a.closeEffect,c=b==="elastic",d={opacity:.1};c&&(d=this.getOrigPosition(),a.closeOpacity&&(d.opacity=.1)),g.wrap.animate(d,{duration:b==="none"?0:a.closeSpeed,easing:a.closeEasing,step:c?this.step:null,complete:g._afterZoomOut})},changeIn:function(){var a=g.current,b=a.nextEffect,c=a.pos,d={opacity:1},e=g.direction,f=200,h;c.opacity=.1,b==="elastic"&&(h=e==="down"||e==="up"?"top":"left",e==="down"||e==="right"?(c[h]=o(n(c[h])-f),d[h]="+="+f+"px"):(c[h]=o(n(c[h])+f),d[h]="-="+f+"px")),b==="none"?g._afterZoomIn():g.wrap.css(c).animate(d,{duration:a.nextSpeed,easing:a.nextEasing,complete:function(){setTimeout(g._afterZoomIn,20)}})},changeOut:function(){var a=g.previous,b=a.prevEffect,d={opacity:.1},e=g.direction,f=200;b==="elastic"&&(d[e==="down"||e==="up"?"top":"left"]=(e==="up"||e==="left"?"-":"+")+"="+f+"px"),a.wrap.animate(d,{duration:b==="none"?0:a.prevSpeed,easing:a.prevEasing,complete:function(){c(this).trigger("onReset").remove()}})}},g.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!i,fixed:!0},overlay:null,fixed:!1,create:function(a){a=c.extend({},this.defaults,a),this.overlay&&this.close(),this.overlay=c('<div class="fancybox-overlay"></div>').appendTo("body"),this.fixed=!1,a.fixed&&g.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var b=this;a=c.extend({},this.defaults,a),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a),this.fixed||(e.bind("resize.overlay",c.proxy(this.update,this)),this.update()),a.closeClick&&this.overlay.bind("click.overlay",function(a){c(a.target).hasClass("fancybox-overlay")&&(g.isActive?g.close():b.close())}),this.overlay.css(a.css).show()},close:function(){c(".fancybox-overlay").remove(),e.unbind("resize.overlay"),this.overlay=null,this.margin!==!1&&(c("body").css("margin-right",this.margin),this.margin=!1),this.el&&this.el.removeClass("fancybox-lock")},update:function(){var a="100%",d;this.overlay.width(a).height("100%"),c.browser.msie?(d=Math.max(b.documentElement.offsetWidth,b.body.offsetWidth),f.width()>d&&(a=f.width())):f.width()>e.width()&&(a=f.width()),this.overlay.width(a).height(f.height())},onReady:function(a,d){c(".fancybox-overlay").stop(!0,!0),this.overlay||(this.margin=f.height()>e.height()||c("body").css("overflow-y")==="scroll"?c("body").css("margin-right"):!1,this.el=b.all&&!b.querySelector?c("html"):c("body"),this.create(a)),a.locked&&this.fixed&&(d.locked=this.overlay.append(d.wrap),d.fixed=!1),a.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){b.locked&&(this.el.addClass("fancybox-lock"),this.margin!==!1&&c("body").css("margin-right",n(this.margin)+b.scrollbarWidth)),this.open(a)},onUpdate:function(){this.fixed||this.update()},afterClose:function(a){this.overlay&&!g.isActive&&this.overlay.fadeOut(a.speedOut,c.proxy(this.close,this))}},g.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(a){var b=g.current,d=b.title,e=a.type,f,h;c.isFunction(d)&&(d=d.call(b.element,b));if(!k(d)||c.trim(d)==="")return;f=c('<div class="fancybox-title fancybox-title-'+e+'-wrap">'+d+"</div>");switch(e){case"inside":h=g.skin;break;case"outside":h=g.wrap;break;case"over":h=g.inner;break;default:h=g.skin,f.appendTo("body"),c.browser.msie&&f.width(f.width()),f.wrapInner('<span class="child"></span>'),g.current.margin[2]+=Math.abs(n(f.css("margin-bottom")))}f[a.position==="top"?"prependTo":"appendTo"](h)}},c.fn.fancybox=function(a){var b,d=c(this),e=this.selector||"",h=function(f){var h=c(this).blur(),i=b,j,k;!(f.ctrlKey||f.altKey||f.shiftKey||f.metaKey)&&!h.is(".fancybox-wrap")&&(j=a.groupAttr||"data-fancybox-group",k=h.attr(j),k||(j="rel",k=h.get(0)[j]),k&&k!==""&&k!=="nofollow"&&(h=e.length?c(e):d,h=h.filter("["+j+'="'+k+'"]'),i=h.index(this)),a.index=i,g.open(h,a)!==!1&&f.preventDefault())};return a=a||{},b=a.index||0,!e||a.live===!1?d.unbind("click.fb-start").bind("click.fb-start",h):f.undelegate(e,"click.fb-start").delegate(e+":not('.fancybox-item, .fancybox-nav')","click.fb-start",h),this.filter("[data-fancybox-start=1]").trigger("click"),this},f.ready(function(){c.scrollbarWidth===d&&(c.scrollbarWidth=function(){var a=c('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),d=b.innerWidth()-b.height(99).innerWidth();return a.remove(),d}),c.support.fixedPosition===d&&(c.support.fixedPosition=function(){var a=c('<div style="position:fixed;top:20px;"></div>').appendTo("body"),b=a[0].offsetTop===20||a[0].offsetTop===15;return a.remove(),b}()),c.extend(g.defaults,{scrollbarWidth:c.scrollbarWidth(),fixed:c.support.fixedPosition,parent:c("body")})})}(window,document,jQuery),function(){var a=jQuery.event,b=function(a,b,c,d){var e,f,g,h,i,j,k,l,m;for(e=0;e<b.length;e++){f=b[e],h=f.indexOf(".")<0,h||(k=f.split("."),f=k.shift(),l=new RegExp("(^|\\.)"+k.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")),g=(a[f]||[]).slice(0);for(i=0;i<g.length;i++)j=g[i],m=h||l.test(j.namespace),m&&(d?j.selector===d&&c(f,j.origHandler||j.handler):d===null?c(f,j.origHandler||j.handler,j.selector):j.selector||c(f,j.origHandler||j.handler))}};a.find=function(a,c,d){var e=($._data(a)||{}).events,f=[],g,h,i;return e?(b(e,c,function(a,b){f.push(b)},d),f):f},a.findBySelector=function(a,c){var d=$._data(a).events,e={},f=function(a,b,c){var d=e[a]||(e[a]={}),f=d[b]||(d[b]=[]);f.push(c)};return d?(b(d,c,function(a,b,c){f(c||"",a,b)},null),e):e},a.supportTouch="ontouchend"in document,$.fn.respondsTo=function(b){return this.length?a.find(this[0],$.isArray(b)?b:[b]).length>0:!1},$.fn.triggerHandled=function(a,b){return a=typeof a=="string"?$.Event(a):a,this.trigger(a,b),a.handled},a.setupHelper=function(b,c,d){d||(d=c,c=null);var e=function(e){var f,g=e.selector||"";g?(f=a.find(this,b,g),f.length||$(this).delegate(g,c,d)):a.find(this,b,g).length||a.add(this,c,d,{selector:g,delegate:this})},f=function(e){var f,g=e.selector||"";g?(f=a.find(this,b,g),f.length||$(this).undelegate(g,c,d)):a.find(this,b,g).length||a.remove(this,c,d,{selector:g,delegate:this})};$.each(b,function(){a.special[this]={add:e,remove:f,setup:function(){},teardown:function(){}}})}}(jQuery),function(a){var b=/Phantom/.test(navigator.userAgent),c=!b&&"ontouchend"in document,d="touchmove scroll",e=c?"touchstart":"mousedown",f=c?"touchend":"mouseup",g=c?"touchmove":"mousemove",h=function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b;return{time:(new Date).getTime(),coords:[c.pageX,c.pageY],origin:a(b.target)}},i=a.event.swipe={delay:500,max:75,min:30};a.event.setupHelper(["swipe","swipeleft","swiperight","swipeup","swipedown"],e,function(b){function l(a){if(!c)return;d=h(a),Math.abs(c.coords[0]-d.coords[0])>10&&a.preventDefault()}var c=h(b),d,e=b.delegateTarget||b.currentTarget,j=b.handleObj.selector,k=this;a(document.documentElement).bind(g,l).one(f,function(f){a(this).unbind(g,l);if(c&&d){var h=Math.abs(c.coords[0]-d.coords[0]),m=Math.abs(c.coords[1]-d.coords[1]),n=Math.sqrt(h*h+m*m);if(d.time-c.time<i.delay&&n>=i.min){var o=["swipe"];h>=i.min&&m<i.min?o.push(c.coords[0]>d.coords[0]?"swipeleft":"swiperight"):m>=i.min&&h<i.min&&o.push(c.coords[1]<d.coords[1]?"swipedown":"swipeup"),a.each(a.event.find(e,o,j),function(){this.call(k,b,{start:c,end:d})})}}c=d=undefined})})}(jQuery),function(a,b,c){"use strict";var d=a.event,e,f;e=d.special.debouncedresize={setup:function(){a(this).on("resize",e.handler)},teardown:function(){a(this).off("resize",e.handler)},handler:function(a,b){var c=this,g=arguments,h=function(){a.type="debouncedresize",d.dispatch.apply(c,g)};f&&clearTimeout(f),b?h():f=setTimeout(h,e.threshold)},threshold:150};var g="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";a.fn.imagesLoaded=function(b){function l(){var c=a(j),f=a(k);e&&(k.length?e.reject(h,c,f):e.resolve(h)),a.isFunction(b)&&b.call(d,h,c,f)}function m(b,c){if(b.src===g||a.inArray(b,i)!==-1)return;i.push(b),c?k.push(b):j.push(b),a.data(b,"imagesLoaded",{isBroken:c,src:b.src}),f&&e.notifyWith(a(b),[c,h,a(j),a(k)]),h.length===i.length&&(setTimeout(l),h.unbind(".imagesLoaded"))}var d=this,e=a.isFunction(a.Deferred)?a.Deferred():0,f=a.isFunction(e.notify),h=d.find("img").add(d.filter("img")),i=[],j=[],k=[];return a.isPlainObject(b)&&a.each(b,function(a,c){a==="callback"?b=c:e&&e[a](c)}),h.length?h.bind("load.imagesLoaded error.imagesLoaded",function(a){m(a.target,a.type==="error")}).each(function(b,d){var e=d.src,f=a.data(d,"imagesLoaded");if(f&&f.src===e){m(d,f.isBroken);return}if(d.complete&&d.naturalWidth!==c){m(d,d.naturalWidth===0||d.naturalHeight===0);return}if(d.readyState||d.complete)d.src=g,d.src=e}):l(),e?e.promise(d):d};var h=a(b),i=b.Modernizr;a.Elastislide=function(b,c){this.$el=a(c),this._init(b)},a.Elastislide.defaults={orientation:"horizontal",speed:500,easing:"ease-in-out",minItems:3,start:0,onClick:function(a,b,c){return!1},onReady:function(){return!1},onBeforeSlide:function(){return!1},onAfterSlide:function(){return!1}},a.Elastislide.prototype={_init:function(b){this.options=a.extend(!0,{},a.Elastislide.defaults,b);var c=this,d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};this.transEndEventName=d[i.prefixed("transition")],this.support=i.csstransitions&&i.csstransforms,this.current=this.options.start,this.isSliding=!1,this.$items=this.$el.children("li"),this.itemsCount=this.$items.length;if(this.itemsCount===0)return!1;this._validate(),this.$items.detach(),this.$el.empty(),this.$el.append(this.$items),this.$el.wrap('<div class="elastislide-wrapper elastislide-loading elastislide-'+this.options.orientation+'"></div>'),this.hasTransition=!1,this.hasTransitionTimeout=setTimeout(function(){c._addTransition()},100),this.$el.imagesLoaded(function(){c.$el.show(),c._layout(),c._configure(),c.hasTransition?(c._removeTransition(),c._slideToItem(c.current),c.$el.on(c.transEndEventName,function(){c.$el.off(c.transEndEventName),c._setWrapperSize(),c._addTransition(),c._initEvents()})):(clearTimeout(c.hasTransitionTimeout),c._setWrapperSize(),c._initEvents(),c._slideToItem(c.current),setTimeout(function(){c._addTransition()},25)),c.options.onReady()})},_validate:function(){this.options.speed<0&&(this.options.speed=500);if(this.options.minItems<1||this.options.minItems>this.itemsCount)this.options.minItems=1;if(this.options.start<0||this.options.start>this.itemsCount-1)this.options.start=0;this.options.orientation!="horizontal"&&this.options.orientation!="vertical"&&(this.options.orientation="horizontal")},_layout:function(){this.$el.wrap('<div class="elastislide-carousel"></div>'),this.$carousel=this.$el.parent(),this.$wrapper=this.$carousel.parent().removeClass("elastislide-loading");var a=this.$items.find("img:first");this.imgSize={width:a.outerWidth(!0),height:a.outerHeight(!0)},this._setItemsSize(),this.options.orientation==="horizontal"?this.$el.css("max-height",this.imgSize.height):this.$el.css("height",this.options.minItems*this.imgSize.height),this._addControls()},_addTransition:function(){this.support&&this.$el.css("transition","all "+this.options.speed+"ms "+this.options.easing),this.hasTransition=!0},_removeTransition:function(){this.support&&this.$el.css("transition","all 0s"),this.hasTransition=!1},_addControls:function(){var b=this;this.$navigation=a('<nav><span class="elastislide-prev">&#9664;</span><span class="elastislide-next">&#9654;</span></nav>').appendTo(this.$wrapper),this.$navPrev=this.$navigation.find("span.elastislide-prev").on("mousedown.elastislide",function(a){return b._slide("prev"),!1}),this.$navNext=this.$navigation.find("span.elastislide-next").on("mousedown.elastislide",function(a){return b._slide("next"),!1})},_setItemsSize:function(){var a=this.options.orientation==="horizontal"?Math.floor(this.$carousel.width()/this.options.minItems)*100/this.$carousel.width():100;this.$items.css({width:a+"%","max-width":this.imgSize.width,"max-height":this.imgSize.height}),this.options.orientation==="vertical"&&this.$wrapper.css("max-width",this.imgSize.width+parseInt(this.$wrapper.css("padding-left"))+parseInt(this.$wrapper.css("padding-right")))},_setWrapperSize:function(){this.options.orientation==="vertical"&&this.$wrapper.css({height:this.options.minItems*this.imgSize.height+parseInt(this.$wrapper.css("padding-top"))+parseInt(this.$wrapper.css("padding-bottom"))})},_configure:function(){this.fitCount=this.options.orientation==="horizontal"?this.$carousel.width()<this.options.minItems*this.imgSize.width?this.options.minItems:Math.floor(this.$carousel.width()/this.imgSize.width):this.$carousel.height()<this.options.minItems*this.imgSize.height?this.options.minItems:Math.floor(this.$carousel.height()/this.imgSize.height)},_initEvents:function(){var b=this;h.on("debouncedresize.elastislide",function(){b._setItemsSize(),b._configure(),b._slideToItem(b.current)}),this.$el.on(this.transEndEventName,function(){b._onEndTransition()}),this.options.orientation==="horizontal"?this.$el.on({swipeleft:function(){b._slide("next")},swiperight:function(){b._slide("prev")}}):this.$el.on({swipeup:function(){b._slide("next")},swipedown:function(){b._slide("prev")}}),this.$el.on("click.elastislide","li",function(c){var d=a(this);b.options.onClick(d,d.index(),c)})},_destroy:function(a){this.$el.off(this.transEndEventName).off("swipeleft swiperight swipeup swipedown .elastislide"),h.off(".elastislide"),this.$el.css({"max-height":"none",transition:"none"}).unwrap(this.$carousel).unwrap(this.$wrapper),this.$items.css({width:"auto","max-width":"none","max-height":"none"}),this.$navigation.remove(),this.$wrapper.remove(),a&&a.call()},_toggleControls:function(a,b){b?a==="next"?this.$navNext.show():this.$navPrev.show():a==="next"?this.$navNext.hide():this.$navPrev.hide()},_slide:function(b,d){if(this.isSliding)return!1;this.options.onBeforeSlide(),this.isSliding=!0;var e=this,f=this.translation||0,g=this.options.orientation==="horizontal"?this.$items.outerWidth(!0):this.$items.outerHeight(!0),h=this.itemsCount*g,i=this.options.orientation==="horizontal"?this.$carousel.width():this.$carousel.height();if(d===c){var j=this.fitCount*g;if(j<0)return!1;if(b==="next"&&h-(Math.abs(f)+j)<i)j=h-(Math.abs(f)+i),this._toggleControls("next",!1),this._toggleControls("prev",!0);else if(b==="prev"&&Math.abs(f)-j<0)j=Math.abs(f),this._toggleControls("next",!0),this._toggleControls("prev",!1);else{var k=b==="next"?Math.abs(f)+Math.abs(j):Math.abs(f)-Math.abs(j);k>0?this._toggleControls("prev",!0):this._toggleControls("prev",!1),k<h-i?this._toggleControls("next",!0):this._toggleControls("next",!1)}d=b==="next"?f-j:f+j}else{var j=Math.abs(d);Math.max(h,i)-j<i&&(d=-(Math.max(h,i)-i)),j>0?this._toggleControls("prev",!0):this._toggleControls("prev",!1),Math.max(h,i)-i>j?this._toggleControls("next",!0):this._toggleControls("next",!1)}this.translation=d;if(f===d)return this._onEndTransition(),!1;if(this.support)this.options.orientation==="horizontal"?this.$el.css("transform","translateX("+d+"px)"):this.$el.css("transform","translateY("+d+"px)");else{a.fn.applyStyle=this.hasTransition?a.fn.animate:a.fn.css;var l=this.options.orientation==="horizontal"?{left:d}:{top:d};this.$el.stop().applyStyle(l,a.extend(!0,[],{duration:this.options.speed,complete:function(){e._onEndTransition()}}))}this.hasTransition||this._onEndTransition()},_onEndTransition:function(){this.isSliding=!1,this.options.onAfterSlide()},_slideTo:function(a){var a=a||this.current,b=Math.abs(this.translation)||0,c=this.options.orientation==="horizontal"?this.$items.outerWidth(!0):this.$items.outerHeight(!0),d=b+this.$carousel.width(),e=Math.abs(a*c);(e+c>d||e<b)&&this._slideToItem(a)},_slideToItem:function(a){var b=this.options.orientation==="horizontal"?a*this.$items.outerWidth(!0):a*this.$items.outerHeight(!0);this._slide("",-b)},add:function(a){var b=this,c=this.current,d=this.$items.eq(this.current);this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,this.current=d.index(),this._setItemsSize(),this._configure(),this._removeTransition(),c<this.current?this._slideToItem(this.current):this._slide("next",this.translation),setTimeout(function(){b._addTransition()},25),a&&a.call()},setCurrent:function(a,b){this.current=a,this._slideTo(),b&&b.call()},next:function(){self._slide("next")},previous:function(){self._slide("prev")},slideStart:function(){this._slideTo(0)},slideEnd:function(){this._slideTo(this.itemsCount-1)},destroy:function(a){this._destroy(a)}};var j=function(a){b.console&&b.console.error(a)};a.fn.elastislide=function(b){var c=a.data(this,"elastislide");if(typeof b=="string"){var d=Array.prototype.slice.call(arguments,1);this.each(function(){if(!c){j("cannot call methods on elastislide prior to initialization; attempted to call method '"+b+"'");return}if(!a.isFunction(c[b])||b.charAt(0)==="_"){j("no such method '"+b+"' for elastislide self");return}c[b].apply(c,d)})}else this.each(function(){c?c._init():c=a.data(this,"elastislide",new a.Elastislide(b,this))});return c}}(jQuery,window),function(a,b,c){function j(a){var b={},d=/^jQuery\d+$/;return c.each(a.attributes,function(a,c){c.specified&&!d.test(c.name)&&(b[c.name]=c.value)}),b}function k(a,d){var e=this,f=c(e);if(e.value==f.attr("placeholder")&&f.hasClass("placeholder"))if(f.data("placeholder-password")){f=f.hide().next().show().attr("id",f.removeAttr("id").data("placeholder-id"));if(a===!0)return f[0].value=d;f.focus()}else e.value="",f.removeClass("placeholder"),e==b.activeElement&&e.select()}function l(){var a,b=this,d=c(b),e=d,f=this.id;if(b.value==""){if(b.type=="password"){if(!d.data("placeholder-textinput")){try{a=d.clone().attr({type:"text"})}catch(g){a=c("<input>").attr(c.extend(j(this),{type:"text"}))}a.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":f}).bind("focus.placeholder",k),d.data({"placeholder-textinput":a,"placeholder-id":f}).before(a)}d=d.removeAttr("id").hide().prev().attr("id",f).show()}d.addClass("placeholder"),d[0].value=d.attr("placeholder")}else d.removeClass("placeholder")}var d="placeholder"in b.createElement("input"),e="placeholder"in b.createElement("textarea"),f=c.fn,g=c.valHooks,h,i;d&&e?(i=f.placeholder=function(){return this},i.input=i.textarea=!0):(i=f.placeholder=function(){var a=this;return a.filter((d?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":k,"blur.placeholder":l}).data("placeholder-enabled",!0).trigger("blur.placeholder"),a},i.input=d,i.textarea=e,h={get:function(a){var b=c(a);return b.data("placeholder-enabled")&&b.hasClass("placeholder")?"":a.value},set:function(a,d){var e=c(a);return e.data("placeholder-enabled")?(d==""?(a.value=d,a!=b.activeElement&&l.call(a)):e.hasClass("placeholder")?k.call(a,!0,d)||(a.value=d):a.value=d,e):a.value=d}},d||(g.input=h),e||(g.textarea=h),c(function(){c(b).delegate("form","submit.placeholder",function(){var a=c(".placeholder",this).each(k);setTimeout(function(){a.each(l)},10)})}),c(a).bind("beforeunload.placeholder",function(){c(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(a,b){function D(a){return e===""?a:(a=a.charAt(0).toUpperCase()+a.substr(1),e+a)}var c=Math,d=b.createElement("div").style,e=function(){var a="t,webkitT,MozT,msT,OT".split(","),b,c=0,e=a.length;for(;c<e;c++){b=a[c]+"ransform";if(b in d)return a[c].substr(0,a[c].length-1)}return!1}(),f=e?"-"+e.toLowerCase()+"-":"",g=D("transform"),h=D("transitionProperty"),i=D("transitionDuration"),j=D("transformOrigin"),k=D("transitionTimingFunction"),l=D("transitionDelay"),m=/android/gi.test(navigator.appVersion),n=/iphone|ipad/gi.test(navigator.appVersion),o=/hp-tablet/gi.test(navigator.appVersion),p=D("perspective")in d,q="ontouchstart"in a&&!o,r=e!==!1,s=D("transition")in d,t="onorientationchange"in a?"orientationchange":"resize",u=q?"touchstart":"mousedown",v=q?"touchmove":"mousemove",w=q?"touchend":"mouseup",x=q?"touchcancel":"mouseup",y=function(){if(e===!1)return!1;var a={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return a[e]}(),z=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){return setTimeout(a,1)}}(),A=function(){return a.cancelRequestAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||clearTimeout}(),B=p?" translateZ(0)":"",C=function(c,d){var e=this,l;e.wrapper=typeof c=="object"?c:b.getElementById(c),e.wrapper.style.overflow="hidden",e.scroller=e.wrapper.children[0],e.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:m,hideScrollbar:n,fadeScrollbar:n&&p,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(l in d)e.options[l]=d[l];e.x=e.options.x,e.y=e.options.y,e.options.useTransform=r&&e.options.useTransform,e.options.hScrollbar=e.options.hScroll&&e.options.hScrollbar,e.options.vScrollbar=e.options.vScroll&&e.options.vScrollbar,e.options.zoom=e.options.useTransform&&e.options.zoom,e.options.useTransition=s&&e.options.useTransition,e.options.zoom&&m&&(B=""),e.scroller.style[h]=e.options.useTransform?f+"transform":"top left",e.scroller.style[i]="0",e.scroller.style[j]="0 0",e.options.useTransition&&(e.scroller.style[k]="cubic-bezier(0.33,0.66,0.66,1)"),e.options.useTransform?e.scroller.style[g]="translate("+e.x+"px,"+e.y+"px)"+B:e.scroller.style.cssText+=";position:absolute;top:"+e.y+"px;left:"+e.x+"px",e.options.useTransition&&(e.options.fixedScrollbar=!0),e.refresh(),e._bind(t,a),e._bind(u),q||e.options.wheelAction!="none"&&(e._bind("DOMMouseScroll"),e._bind("mousewheel")),e.options.checkDOMChanges&&(e.checkDOMTime=setInterval(function(){e._checkDOMChanges()},500))};C.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(a){var b=this;switch(a.type){case u:if(!q&&a.button!==0)return;b._start(a);break;case v:b._move(a);break;case w:case x:b._end(a);break;case t:b._resize();break;case"DOMMouseScroll":case"mousewheel":b._wheel(a);break;case y:b._transitionEnd(a)}},_checkDOMChanges:function(){if(this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)return;this.refresh()},_scrollbar:function(a){var d=this,e;if(!d[a+"Scrollbar"]){d[a+"ScrollbarWrapper"]&&(r&&(d[a+"ScrollbarIndicator"].style[g]=""),d[a+"ScrollbarWrapper"].parentNode.removeChild(d[a+"ScrollbarWrapper"]),d[a+"ScrollbarWrapper"]=null,d[a+"ScrollbarIndicator"]=null);return}d[a+"ScrollbarWrapper"]||(e=b.createElement("div"),d.options.scrollbarClass?e.className=d.options.scrollbarClass+a.toUpperCase():e.style.cssText="position:absolute;z-index:100;"+(a=="h"?"height:7px;bottom:1px;left:2px;right:"+(d.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(d.hScrollbar?"7":"2")+"px;top:2px;right:1px"),e.style.cssText+=";pointer-events:none;"+f+"transition-property:opacity;"+f+"transition-duration:"+(d.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(d.options.hideScrollbar?"0":"1"),d.wrapper.appendChild(e),d[a+"ScrollbarWrapper"]=e,e=b.createElement("div"),d.options.scrollbarClass||(e.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+f+"background-clip:padding-box;"+f+"box-sizing:border-box;"+(a=="h"?"height:100%":"width:100%")+";"+f+"border-radius:3px;border-radius:3px"),e.style.cssText+=";pointer-events:none;"+f+"transition-property:"+f+"transform;"+f+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+f+"transition-duration:0;"+f+"transform: translate(0,0)"+B,d.options.useTransition&&(e.style.cssText+=";"+f+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),d[a+"ScrollbarWrapper"].appendChild(e),d[a+"ScrollbarIndicator"]=e),a=="h"?(d.hScrollbarSize=d.hScrollbarWrapper.clientWidth,d.hScrollbarIndicatorSize=c.max(c.round(d.hScrollbarSize*d.hScrollbarSize/d.scrollerW),8),d.hScrollbarIndicator.style.width=d.hScrollbarIndicatorSize+"px",d.hScrollbarMaxScroll=d.hScrollbarSize-d.hScrollbarIndicatorSize,d.hScrollbarProp=d.hScrollbarMaxScroll/d.maxScrollX):(d.vScrollbarSize=d.vScrollbarWrapper.clientHeight,d.vScrollbarIndicatorSize=c.max(c.round(d.vScrollbarSize*d.vScrollbarSize/d.scrollerH),8),d.vScrollbarIndicator.style.height=d.vScrollbarIndicatorSize+"px",d.vScrollbarMaxScroll=d.vScrollbarSize-d.vScrollbarIndicatorSize,d.vScrollbarProp=d.vScrollbarMaxScroll/d.maxScrollY),d._scrollbarPos(a,!0)},_resize:function(){var a=this;setTimeout(function(){a.refresh()},m?200:0)},_pos:function(a,b){if(this.zoomed)return;a=this.hScroll?a:0,b=this.vScroll?b:0,this.options.useTransform?this.scroller.style[g]="translate("+a+"px,"+b+"px) scale("+this.scale+")"+B:(a=c.round(a),b=c.round(b),this.scroller.style.left=a+"px",this.scroller.style.top=b+"px"),this.x=a,this.y=b,this._scrollbarPos("h"),this._scrollbarPos("v")},_scrollbarPos:function(a,b){var d=this,e=a=="h"?d.x:d.y,f;if(!d[a+"Scrollbar"])return;e=d[a+"ScrollbarProp"]*e,e<0?(d.options.fixedScrollbar||(f=d[a+"ScrollbarIndicatorSize"]+c.round(e*3),f<8&&(f=8),d[a+"ScrollbarIndicator"].style[a=="h"?"width":"height"]=f+"px"),e=0):e>d[a+"ScrollbarMaxScroll"]&&(d.options.fixedScrollbar?e=d[a+"ScrollbarMaxScroll"]:(f=d[a+"ScrollbarIndicatorSize"]-c.round((e-d[a+"ScrollbarMaxScroll"])*3),f<8&&(f=8),d[a+"ScrollbarIndicator"].style[a=="h"?"width":"height"]=f+"px",e=d[a+"ScrollbarMaxScroll"]+(d[a+"ScrollbarIndicatorSize"]-f))),d[a+"ScrollbarWrapper"].style[l]="0",d[a+"ScrollbarWrapper"].style.opacity=b&&d.options.hideScrollbar?"0":"1",d[a+"ScrollbarIndicator"].style[g]="translate("+(a=="h"?e+"px,0)":"0,"+e+"px)")+B},_start:function(b){var d=this,e=q?b.touches[0]:b,f,h,i,j,k;if(!d.enabled)return;d.options.onBeforeScrollStart&&d.options.onBeforeScrollStart.call(d,b),(d.options.useTransition||d.options.zoom)&&d._transitionTime(0),d.moved=!1,d.animating=!1,d.zoomed=!1,d.distX=0,d.distY=0,d.absDistX=0,d.absDistY=0,d.dirX=0,d.dirY=0,d.options.zoom&&q&&b.touches.length>1&&(j=c.abs(b.touches[0].pageX-b.touches[1].pageX),k=c.abs(b.touches[0].pageY-b.touches[1].pageY),d.touchesDistStart=c.sqrt(j*j+k*k),d.originX=c.abs(b.touches[0].pageX+b.touches[1].pageX-d.wrapperOffsetLeft*2)/2-d.x,d.originY=c.abs(b.touches[0].pageY+b.touches[1].pageY-d.wrapperOffsetTop*2)/2-d.y,d.options.onZoomStart&&d.options.onZoomStart.call(d,b));if(d.options.momentum){d.options.useTransform?(f=getComputedStyle(d.scroller,null)[g].replace(/[^0-9\-.,]/g,"").split(","),h=+(f[12]||f[4]),i=+(f[13]||f[5])):(h=+getComputedStyle(d.scroller,null).left.replace(/[^0-9-]/g,""),i=+getComputedStyle(d.scroller,null).top.replace(/[^0-9-]/g,""));if(h!=d.x||i!=d.y)d.options.useTransition?d._unbind(y):A(d.aniTime),d.steps=[],d._pos(h,i),d.options.onScrollEnd&&d.options.onScrollEnd.call(d)}d.absStartX=d.x,d.absStartY=d.y,d.startX=d.x,d.startY=d.y,d.pointX=e.pageX,d.pointY=e.pageY,d.startTime=b.timeStamp||Date.now(),d.options.onScrollStart&&d.options.onScrollStart.call(d,b),d._bind(v,a),d._bind(w,a),d._bind(x,a)},_move:function(a){var b=this,d=q?a.touches[0]:a,e=d.pageX-b.pointX,f=d.pageY-b.pointY,h=b.x+e,i=b.y+f,j,k,l,m=a.timeStamp||Date.now();b.options.onBeforeScrollMove&&b.options.onBeforeScrollMove.call(b,a);if(b.options.zoom&&q&&a.touches.length>1){j=c.abs(a.touches[0].pageX-a.touches[1].pageX),k=c.abs(a.touches[0].pageY-a.touches[1].pageY),b.touchesDist=c.sqrt(j*j+k*k),b.zoomed=!0,l=1/b.touchesDistStart*b.touchesDist*this.scale,l<b.options.zoomMin?l=.5*b.options.zoomMin*Math.pow(2,l/b.options.zoomMin):l>b.options.zoomMax&&(l=2*b.options.zoomMax*Math.pow(.5,b.options.zoomMax/l)),b.lastScale=l/this.scale,h=this.originX-this.originX*b.lastScale+this.x,i=this.originY-this.originY*b.lastScale+this.y,this.scroller.style[g]="translate("+h+"px,"+i+"px) scale("+l+")"+B,b.options.onZoom&&b.options.onZoom.call(b,a);return}b.pointX=d.pageX,b.pointY=d.pageY;if(h>0||h<b.maxScrollX)h=b.options.bounce?b.x+e/2:h>=0||b.maxScrollX>=0?0:b.maxScrollX;if(i>b.minScrollY||i<b.maxScrollY)i=b.options.bounce?b.y+f/2:i>=b.minScrollY||b.maxScrollY>=0?b.minScrollY:b.maxScrollY;b.distX+=e,b.distY+=f,b.absDistX=c.abs(b.distX),b.absDistY=c.abs(b.distY);if(b.absDistX<6&&b.absDistY<6)return;b.options.lockDirection&&(b.absDistX>b.absDistY+5?(i=b.y,f=0):b.absDistY>b.absDistX+5&&(h=b.x,e=0)),b.moved=!0,b._pos(h,i),b.dirX=e>0?-1:e<0?1:0,b.dirY=f>0?-1:f<0?1:0,m-b.startTime>300&&(b.startTime=m,b.startX=b.x,b.startY=b.y),b.options.onScrollMove&&b.options.onScrollMove.call(b,a)},_end:function(d){if(q&&d.touches.length!==0)return;var e=this,f=q?d.changedTouches[0]:d,h,j,k={dist:0,time:0},l={dist:0,time:0},m=(d.timeStamp||Date.now())-e.startTime,n=e.x,o=e.y,p,r,s,t,u;e._unbind(v,a),e._unbind(w,a),e._unbind(x,a),e.options.onBeforeScrollEnd&&e.options.onBeforeScrollEnd.call(e,d);if(e.zoomed){u=e.scale*e.lastScale,u=Math.max(e.options.zoomMin,u),u=Math.min(e.options.zoomMax,u),e.lastScale=u/e.scale,e.scale=u,e.x=e.originX-e.originX*e.lastScale+e.x,e.y=e.originY-e.originY*e.lastScale+e.y,e.scroller.style[i]="200ms",e.scroller.style[g]="translate("+e.x+"px,"+e.y+"px) scale("+e.scale+")"+B,e.zoomed=!1,e.refresh(),e.options.onZoomEnd&&e.options.onZoomEnd.call(e,d);return}if(!e.moved){q&&(e.doubleTapTimer&&e.options.zoom?(clearTimeout(e.doubleTapTimer),e.doubleTapTimer=null,e.options.onZoomStart&&e.options.onZoomStart.call(e,d),e.zoom(e.pointX,e.pointY,e.scale==1?e.options.doubleTapZoom:1),e.options.onZoomEnd&&setTimeout(function(){e.options.onZoomEnd.call(e,d)},200)):this.options.handleClick&&(e.doubleTapTimer=setTimeout(function(){e.doubleTapTimer=null,h=f.target;while(h.nodeType!=1)h=h.parentNode;h.tagName!="SELECT"&&h.tagName!="INPUT"&&h.tagName!="TEXTAREA"&&(j=b.createEvent("MouseEvents"),j.initMouseEvent("click",!0,!0,d.view,1,f.screenX,f.screenY,f.clientX,f.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,0,null),j._fake=!0,h.dispatchEvent(j))},e.options.zoom?250:0))),e._resetPos(400),e.options.onTouchEnd&&e.options.onTouchEnd.call(e,d);return}if(m<300&&e.options.momentum){k=n?e._momentum(n-e.startX,m,-e.x,e.scrollerW-e.wrapperW+e.x,e.options.bounce?e.wrapperW:0):k,l=o?e._momentum(o-e.startY,m,-e.y,e.maxScrollY<0?e.scrollerH-e.wrapperH+e.y-e.minScrollY:0,e.options.bounce?e.wrapperH:0):l,n=e.x+k.dist,o=e.y+l.dist;if(e.x>0&&n>0||e.x<e.maxScrollX&&n<e.maxScrollX)k={dist:0,time:0};if(e.y>e.minScrollY&&o>e.minScrollY||e.y<e.maxScrollY&&o<e.maxScrollY)l={dist:0,time:0}}if(k.dist||l.dist){s=c.max(c.max(k.time,l.time),10),e.options.snap&&(p=n-e.absStartX,r=o-e.absStartY,c.abs(p)<e.options.snapThreshold&&c.abs(r)<e.options.snapThreshold?e.scrollTo(e.absStartX,e.absStartY,200):(t=e._snap(n,o),n=t.x,o=t.y,s=c.max(t.time,s))),e.scrollTo(c.round(n),c.round(o),s),e.options.onTouchEnd&&e.options.onTouchEnd.call(e,d);return}if(e.options.snap){p=n-e.absStartX,r=o-e.absStartY,c.abs(p)<e.options.snapThreshold&&c.abs(r)<e.options.snapThreshold?e.scrollTo(e.absStartX,e.absStartY,200):(t=e._snap(e.x,e.y),(t.x!=e.x||t.y!=e.y)&&e.scrollTo(t.x,t.y,t.time)),e.options.onTouchEnd&&e.options.onTouchEnd.call(e,d);return}e._resetPos(200),e.options.onTouchEnd&&e.options.onTouchEnd.call(e,d)},_resetPos:function(a){var b=this,c=b.x>=0?0:b.x<b.maxScrollX?b.maxScrollX:b.x,d=b.y>=b.minScrollY||b.maxScrollY>0?b.minScrollY:b.y<b.maxScrollY?b.maxScrollY:b.y;if(c==b.x&&d==b.y){b.moved&&(b.moved=!1,b.options.onScrollEnd&&b.options.onScrollEnd.call(b)),b.hScrollbar&&b.options.hideScrollbar&&(e=="webkit"&&(b.hScrollbarWrapper.style[l]="300ms"),b.hScrollbarWrapper.style.opacity="0"),b.vScrollbar&&b.options.hideScrollbar&&(e=="webkit"&&(b.vScrollbarWrapper.style[l]="300ms"),b.vScrollbarWrapper.style.opacity="0");return}b.scrollTo(c,d,a||0)},_wheel:function(a){var b=this,c,d,e,f,g;if("wheelDeltaX"in a)c=a.wheelDeltaX/12,d=a.wheelDeltaY/12;else if("wheelDelta"in a)c=d=a.wheelDelta/12;else{if(!("detail"in a))return;c=d=-a.detail*3}if(b.options.wheelAction=="zoom"){g=b.scale*Math.pow(2,1/3*(d?d/Math.abs(d):0)),g<b.options.zoomMin&&(g=b.options.zoomMin),g>b.options.zoomMax&&(g=b.options.zoomMax),g!=b.scale&&(!b.wheelZoomCount&&b.options.onZoomStart&&b.options.onZoomStart.call(b,a),b.wheelZoomCount++,b.zoom(a.pageX,a.pageY,g,400),setTimeout(function(){b.wheelZoomCount--,!b.wheelZoomCount&&b.options.onZoomEnd&&b.options.onZoomEnd.call(b,a)},400));return}e=b.x+c,f=b.y+d,e>0?e=0:e<b.maxScrollX&&(e=b.maxScrollX),f>b.minScrollY?f=b.minScrollY:f<b.maxScrollY&&(f=b.maxScrollY),b.maxScrollY<0&&b.scrollTo(e,f,0)},_transitionEnd:function(a){var b=this;if(a.target!=b.scroller)return;b._unbind(y),b._startAni()},_startAni:function(){var a=this,b=a.x,d=a.y,e=Date.now(),f,g,h;if(a.animating)return;if(!a.steps.length){a._resetPos(400);return}f=a.steps.shift(),f.x==b&&f.y==d&&(f.time=0),a.animating=!0,a.moved=!0;if(a.options.useTransition){a._transitionTime(f.time),a._pos(f.x,f.y),a.animating=!1,f.time?a._bind(y):a._resetPos(0);return}h=function(){var i=Date.now(),j,k;if(i>=e+f.time){a._pos(f.x,f.y),a.animating=!1,a.options.onAnimationEnd&&a.options.onAnimationEnd.call(a),a._startAni();return}i=(i-e)/f.time-1,g=c.sqrt(1-i*i),j=(f.x-b)*g+b,k=(f.y-d)*g+d,a._pos(j,k),a.animating&&(a.aniTime=z(h))},h()},_transitionTime:function(a){a+="ms",this.scroller.style[i]=a,this.hScrollbar&&(this.hScrollbarIndicator.style[i]=a),this.vScrollbar&&(this.vScrollbarIndicator.style[i]=a)},_momentum:function(a,b,d,e,f){var g=6e-4,h=c.abs(a)/b,i=h*h/(2*g),j=0,k=0;return a>0&&i>d?(k=f/(6/(i/h*g)),d+=k,h=h*d/i,i=d):a<0&&i>e&&(k=f/(6/(i/h*g)),e+=k,h=h*e/i,i=e),i*=a<0?-1:1,j=h/g,{dist:i,time:c.round(j)}},_offset:function(a){var b=-a.offsetLeft,c=-a.offsetTop;while(a=a.offsetParent)b-=a.offsetLeft,c-=a.offsetTop;return a!=this.wrapper&&(b*=this.scale,c*=this.scale),{left:b,top:c}},_snap:function(a,b){var d=this,e,f,g,h,i,j;g=d.pagesX.length-1;for(e=0,f=d.pagesX.length;e<f;e++)if(a>=d.pagesX[e]){g=e;break}g==d.currPageX&&g>0&&d.dirX<0&&g--,a=d.pagesX[g],i=c.abs(a-d.pagesX[d.currPageX]),i=i?c.abs(d.x-a)/i*500:0,d.currPageX=g,g=d.pagesY.length-1;for(e=0;e<g;e++)if(b>=d.pagesY[e]){g=e;break}return g==d.currPageY&&g>0&&d.dirY<0&&g--,b=d.pagesY[g],j=c.abs(b-d.pagesY[d.currPageY]),j=j?c.abs(d.y-b)/j*500:0,d.currPageY=g,h=c.round(c.max(i,j))||200,{x:a,y:b,time:h}},_bind:function(a,b,c){(b||this.scroller).addEventListener(a,this,!!c)},_unbind:function(a,b,c){(b||this.scroller).removeEventListener(a,this,!!c)},destroy:function(){var b=this;b.scroller.style[g]="",b.hScrollbar=!1,b.vScrollbar=!1,b._scrollbar("h"),b._scrollbar("v"),b._unbind(t,a),b._unbind(u),b._unbind(v,a),b._unbind(w,a),b._unbind(x,a),b.options.hasTouch||(b._unbind("DOMMouseScroll"),b._unbind("mousewheel")),b.options.useTransition&&b._unbind(y),b.options.checkDOMChanges&&clearInterval(b.checkDOMTime),b.options.onDestroy&&b.options.onDestroy.call(b)},refresh:function(){var a=this,b,d,e,f,g=0,h=0;a.scale<a.options.zoomMin&&(a.scale=a.options.zoomMin),a.wrapperW=a.wrapper.clientWidth||1,a.wrapperH=a.wrapper.clientHeight||1,a.minScrollY=-a.options.topOffset||0,a.scrollerW=c.round(a.scroller.offsetWidth*a.scale),a.scrollerH=c.round((a.scroller.offsetHeight+a.minScrollY)*a.scale),a.maxScrollX=a.wrapperW-a.scrollerW,a.maxScrollY=a.wrapperH-a.scrollerH+a.minScrollY,a.dirX=0,a.dirY=0,a.options.onRefresh&&a.options.onRefresh.call(a),a.hScroll=a.options.hScroll&&a.maxScrollX<0,a.vScroll=a.options.vScroll&&(!a.options.bounceLock&&!a.hScroll||a.scrollerH>a.wrapperH),a.hScrollbar=a.hScroll&&a.options.hScrollbar,a.vScrollbar=a.vScroll&&a.options.vScrollbar&&a.scrollerH>a.wrapperH,b=a._offset(a.wrapper),a.wrapperOffsetLeft=-b.left,a.wrapperOffsetTop=-b.top;if(typeof a.options.snap=="string"){a.pagesX=[],a.pagesY=[],f=a.scroller.querySelectorAll(a.options.snap);for(d=0,e=f.length;d<e;d++)g=a._offset(f[d]),g.left+=a.wrapperOffsetLeft,g.top+=a.wrapperOffsetTop,a.pagesX[d]=g.left<a.maxScrollX?a.maxScrollX:g.left*a.scale,a.pagesY[d]=g.top<a.maxScrollY?a.maxScrollY:g.top*a.scale}else if(a.options.snap){a.pagesX=[];while(g>=a.maxScrollX)a.pagesX[h]=g,g-=a.wrapperW,h++;a.maxScrollX%a.wrapperW&&(a.pagesX[a.pagesX.length]=a.maxScrollX-a.pagesX[a.pagesX.length-1]+a.pagesX[a.pagesX.length-1]),g=0,h=0,a.pagesY=[];while(g>=a.maxScrollY)a.pagesY[h]=g,g-=a.wrapperH,h++;a.maxScrollY%a.wrapperH&&(a.pagesY[a.pagesY.length]=a.maxScrollY-a.pagesY[a.pagesY.length-1]+a.pagesY[a.pagesY.length-1])}a._scrollbar("h"),a._scrollbar("v"),a.zoomed||(a.scroller.style[i]="0",a._resetPos(400))},scrollTo:function(a,b,c,d){var e=this,f=a,g,h;e.stop(),f.length||(f=[{x:a,y:b,time:c,relative:d}]);for(g=0,h=f.length;g<h;g++)f[g].relative&&(f[g].x=e.x-f[g].x,f[g].y=e.y-f[g].y),e.steps.push({x:f[g].x,y:f[g].y,time:f[g].time||0});e._startAni()},scrollToElement:function(a,b){var d=this,e;a=a.nodeType?a:d.scroller.querySelector(a);if(!a)return;e=d._offset(a),e.left+=d.wrapperOffsetLeft,e.top+=d.wrapperOffsetTop,e.left=e.left>0?0:e.left<d.maxScrollX?d.maxScrollX:e.left,e.top=e.top>d.minScrollY?d.minScrollY:e.top<d.maxScrollY?d.maxScrollY:e.top,b=b===undefined?c.max(c.abs(e.left)*2,c.abs(e.top)*2):b,d.scrollTo(e.left,e.top,b)},scrollToPage:function(a,b,c){var d=this,e,f;c=c===undefined?400:c,d.options.onScrollStart&&d.options.onScrollStart.call(d),d.options.snap?(a=a=="next"?d.currPageX+1:a=="prev"?d.currPageX-1:a,b=b=="next"?d.currPageY+1:b=="prev"?d.currPageY-1:b,a=a<0?0:a>d.pagesX.length-1?d.pagesX.length-1:a,b=b<0?0:b>d.pagesY.length-1?d.pagesY.length-1:b,d.currPageX=a,d.currPageY=b,e=d.pagesX[a],f=d.pagesY[b]):(e=-d.wrapperW*a,f=-d.wrapperH*b,e<d.maxScrollX&&(e=d.maxScrollX),f<d.maxScrollY&&(f=d.maxScrollY)),d.scrollTo(e,f,c)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(v,a),this._unbind(w,a),this._unbind(x,a)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(y):A(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(a,b,c,d){var e=this,f=c/e.scale;if(!e.options.useTransform)return;e.zoomed=!0,d=d===undefined?200:d,a=a-e.wrapperOffsetLeft-e.x,b=b-e.wrapperOffsetTop-e.y,e.x=a-a*f+e.x,e.y=b-b*f+e.y,e.scale=c,e.refresh(),e.x=e.x>0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,e.y=e.y>e.minScrollY?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y,e.scroller.style[i]=d+"ms",e.scroller.style[g]="translate("+e.x+"px,"+e.y+"px) scale("+c+")"+B,e.zoomed=!1},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},d=null,typeof exports!="undefined"?exports.iScroll=C:a.iScroll=C}(window,document);